# Living Twin CI/CD Test Environment Configuration
# IMPORTANT: This is a template. Copy to .env.test and fill in actual values
# DO NOT commit .env.test to version control

# ===========================
# Testing Configuration
# ===========================
USE_MOCK_SERVICES=true
MOCK_LLM_RESPONSES=true
MOCK_DATABASE_RESPONSES=false
ENABLE_INTEGRATION_TESTS=false

# ===========================
# LLM Configuration (Minimal)
# ===========================
# Only for integration tests that absolutely need it
OPENAI_API_KEY=sk-test-xxxxxxxxxxxxxxxxxxxxx
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=100
OPENAI_TEMPERATURE=0.7
OPENAI_RATE_LIMIT=5
OPENAI_TIMEOUT=10

# ===========================
# Test Database Configuration
# ===========================
NEO4J_URI=neo4j://test-neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=test
NEO4J_DB=test
NEO4J_MAX_CONNECTIONS=10
NEO4J_CONNECTION_TIMEOUT=5.0
VECTOR_INDEX_NAME=testEmbeddings

# ===========================
# Redis Configuration (Test)
# ===========================
REDIS_URL=redis://test-redis:6379
REDIS_PASSWORD=test123
REDIS_MAX_CONNECTIONS=10
RATE_LIMIT_ENABLED=false
RATE_LIMIT_DEFAULT="1000 per minute"
RATE_LIMIT_BURST="100 per second"

# ===========================
# Firebase Configuration (Test Mode)
# ===========================
FIREBASE_USE_EMULATOR=true
FIREBASE_PROJECT_ID=demo-test
FIRESTORE_EMULATOR_HOST=localhost:8080
FIREBASE_AUTH_EMULATOR_HOST=localhost:9099
FIREBASE_STORAGE_EMULATOR_HOST=localhost:9199

# ===========================
# Cost Control Configuration
# ===========================
MAX_MONTHLY_COST=50
ALERT_THRESHOLDS=95
ENABLE_COST_CAPS=true
COST_CAP_ACTION=block  # Options: throttle, block, alert-only
AUTO_SCALE_BASED_ON_COST=false

# ===========================
# CI/CD Specific Settings
# ===========================
CI_ENVIRONMENT=true
PARALLEL_TEST_EXECUTION=true
TEST_TIMEOUT_SECONDS=300
FAIL_FAST=true
COVERAGE_THRESHOLD=80

# ===========================
# Monitoring & Alerting
# ===========================
SENTRY_DSN=  # Disabled for CI/CD
SENTRY_ENVIRONMENT=test
SENTRY_TRACES_SAMPLE_RATE=0.0
ENABLE_PERFORMANCE_MONITORING=false
ENABLE_ERROR_TRACKING=false

# ===========================
# Security Settings
# ===========================
ENABLE_RATE_LIMITING=false
ENABLE_API_KEY_ROTATION=false
API_KEY_ROTATION_DAYS=0
ENABLE_AUDIT_LOGGING=false
ENABLE_ENCRYPTION_AT_REST=false

# ===========================
# Application Settings
# ===========================
ENVIRONMENT=test
API_VERSION=1.0.0-test
DEBUG=false
LOG_LEVEL=error
CORS_ORIGINS=http://localhost:3000

# ===========================
# Service URLs
# ===========================
API_BASE_URL=http://localhost:8000
ADMIN_URL=http://localhost:5173
APP_URL=http://localhost:3000

# ===========================
# Test Data
# ===========================
TEST_USER_EMAIL=test@example.com
TEST_USER_PASSWORD=testpassword123
TEST_TENANT_ID=test-tenant-001
TEST_API_KEY=test-api-key-xxxxx
